{% extends 'layout.html' %}
{% load static %}
{% block head %}
    <title>注册</title>
{% endblock %}
{% block main %}
    <div id="app">
    <div class="register_con">
        <div class="l_con fl">
            <a href="index.html" class="reg_logo"><img src="{% static 'images/logo.png' %}"></a>
            <div class="reg_slogan">商品美 · 种类多 · 欢迎光临</div>
            <div class="reg_banner"></div>
        </div>
        <div class="r_con fr">
            <div class="reg_title clearfix">
                <h1>用户注册</h1>
                <a href="login">登录</a>
            </div>
            <div class="reg_form clearfix">
                <form method="post" class="register_form" @submit="on_submit" v-cloak>
                    {% csrf_token %}
                    <ul>
                        <li>
                            <label>用户名:</label>
                            <input type="text" name="username" id="user_name" v-model="username"
                                   @blur="check_username">
                            <span class="error_tip" v-show="error_name">[[error_name_message]]</span>
                        </li>
                        <li>
                            <label>密码:</label>
                            <input type="password" name="password" id="pwd" @blur="check_password"
                                   v-model="password">
                            <span class="error_tip" v-show="error_pass">[[error_pass_message]]</span>
                        </li>
                        <li>
                            <label>确认密码:</label>
                            <input type="password" name="password2" id="cpwd" v-model="password2"
                                   @blur="check_password2">
                            <span class="error_tip" v-show="error_pass2">两次输入的密码不一致</span>
                        </li>
                        <li>
                            <label>手机号:</label>
                            <input type="text" name="mobile" id="phone" v-model="mobile" @blur="check_mobile">
                            <span class="error_tip" v-show="error_phone">[[error_phone_massage]]</span>
                        </li>
                        <li>
                            <label>图形验证码:</label>
                            <input type="text" name="image_code" id="pic_code" class="msg_input" v-model="img_db"
                                   @blur="check_img">
                            <img :src="img_code_url" alt="图形验证码" class="pic_code" @click="img_show">
                            <span class="error_tip" v-show="error_img">[[error_img_message]]</span>
                        </li>
                        <li>
                            <label>短信验证码:</label>
                            <input type="text" name="sms_code" id="msg_code" class="msg_input" v-model="msg"
                                   @blur="check_msg">
                            <a href="javascript:;" class="get_msg_code" @click="ssm_code">[[ssm_code_message]]</a>
                            <span class="error_tip" v-show="error_msg">[[error_message_msg]]</span>
                        </li>
                        <li class="agreement">
                            <input type="checkbox" v-model="allow" name="allow" id="allow" @change="check_allow">
                            <label>同意”美多商城用户使用协议“</label>
                            <span class="error_tip" v-show="error_allow">请勾选用户协议</span>
                            {% if register_errmsg %}
                                <span class="error_tip">{{ register_errmsg }}</span>
                            {% endif %}
                        </li>
                        <li class="reg_sub">
                            <input type="submit" value="注 册">
                        </li>
                    </ul>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
<div class="footer">
    <div class="foot_link">
        <a href="#">关于我们</a>
        <span>|</span>
        <a href="#">联系我们</a>
        <span>|</span>
        <a href="#">招聘人才</a>
        <span>|</span>
        <a href="#">友情链接</a>
    </div>
    <p>CopyRight © 2016 北京美多商业股份有限公司 All Rights Reserved</p>
    <p>电话：010-****888 京ICP备*******8号</p>
</div>
</div>
{% block js %}
    <script src="{% static 'js/common.js' %}"></script>
    <script src="{% static 'js/register.js' %}"></script>
{% endblock %}